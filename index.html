<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="stylesheet" href="main.css">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<title>ะะณัะฐ ะะพัะด ะธ ะะพะนัะบะพ</title>

</head>
<body>

<!-- ะะตะฝั ะฒัะฑะพัะฐ ัะตะถะธะผะฐ -->
<div id="menu" role="dialog" aria-modal="true" aria-labelledby="menuTitle">
    <h1 id="menuTitle" class="game-title" data-translate-key="game_title" aria-label="EmojiLordz.io">EmojiLordz.io</h1>
    <div id="mainMenuButtons">
        <button id="btnName" data-translate-key="name_button">ะะผั</button>
        <button id="btnOffline" data-translate-key="offline_button">ะััะปะฐะนะฝ</button>
        <button id="btnOnline" data-translate-key="online_button_wip" disabled>ะะฝะปะฐะนะฝ (ะฒ ัะฐะทัะฐะฑะพัะบะต)</button>
        <button id="btnSettings" data-translate-key="settings_button">ะะฐัััะพะนะบะธ</button>
        <button id="btnExit" data-translate-key="exit_button">ะััะพะด</button>
    </div>
    
    <div id="settingsMenu" hidden>
        <h2 data-translate-key="settings_title" style="font-size: 22px; margin-bottom: 15px;">ะะฐัััะพะนะบะธ</h2>
        <button id="btnSwapUI" data-translate-key="joystick_pos_left">ะะถะพะนััะธะบ: ัะปะตะฒะฐ</button>
        <button id="btnLanguage" data-translate-key="language_button">ะฏะทัะบ</button>
        <button id="btnBackToMainFromSettings" data-translate-key="back_button" style="margin-top: 15px; background: #555;">ะะฐะทะฐะด</button>
    </div>

    <div id="languageMenu" hidden>
        <h2 data-translate-key="language_title" style="font-size: 22px; margin-bottom: 15px;">ะัะฑะตัะธัะต ัะทัะบ</h2>
        <button class="lang-btn" data-lang="ru">ะัััะบะธะน</button>
        <button class="lang-btn" data-lang="en">English</button>
        <button class="lang-btn" data-lang="cn">ไธญๆ</button>
        <button id="btnBackToLang" data-translate-key="back_button" style="margin-top: 15px; background: #555;">ะะฐะทะฐะด</button>
    </div>

    <div id="nameMenu" hidden>
        <h2 data-translate-key="name_title" style="font-size: 22px; margin-bottom: 15px;">ะะฒะตะดะธัะต ะฒะฐัะต ะธะผั</h2>
        <input type="text" id="nameInput" maxlength="16" style="width: 200px; padding: 8px; font-size: 16px; margin-bottom: 15px; border-radius: 8px; border: 1px solid #ccc; text-align: center;">
        <button id="btnSaveName" data-translate-key="save_button">ะกะพััะฐะฝะธัั</button>
    </div>
</div>

<!-- ะขะตะผะฝะพ-ะทะตะปะตะฝัะน ัะพะฝ ะผะตะฝั ั ะพะฑัะตะบัะฐะผะธ -->
<div id="menuOverlay">
  <div class="menuObjects" aria-hidden="true">
    <span title="ะะฐัะฝั">๐ฐ</span>
    <span title="ะะตะผะพะฝ">๐น</span>
    <span title="ะกะบะตะปะตั">๐</span>
  </div>
</div>

<div id="topLeftUI" style="position: fixed; top: 50%; left: 15px; z-index: 1002; transform: translateY(-50%);">
    <button id="skinsBtn" class="menu-action-btn" data-translate-key="skins_button">ะกะบะธะฝั</button>
</div>

<div id="topRightUI" style="position: fixed; top: 50%; right: 15px; z-index: 1002; transform: translateY(-50%);">
    <button id="codesBtn" class="menu-action-btn" data-translate-key="codes_button">ะะพะดั</button>
</div>

<div id="skinsMenu" class="new-game-menu" hidden>
    <h2 data-translate-key="skins_title">ะกะบะธะฝั</h2>
    <div id="skinSelection" class="menu-grid">
        </div>
    <button class="close-menu-btn" data-target-menu="skinsMenu">X</button>
</div>

<div id="codesMenu" class="new-game-menu" hidden>
    <h2 data-translate-key="codes_title">ะะพะดั</h2>
    <input type="text" id="codeInput"> <button id="submitCodeBtn" data-translate-key="submit_code_button">ะัะธะผะตะฝะธัั</button>
    <p id="codeStatus" style="height: 1em;"></p>
    <button class="close-menu-btn" data-target-menu="codesMenu">X</button>
</div>

<!-- ะกะฟะธัะพะบ ะปะธะดะตัะพะฒ -->
<div id="leaderboardContainer">
    <div id="leaderboard" aria-live="polite" aria-atomic="true" aria-label="ะกะฟะธัะพะบ ะปะธะดะตัะพะฒ">
      <h2 data-translate-key="leaderboard_title">ะะธะดะตัั ๐ฐ</h2>
      <ul id="leaderboardList"></ul>
    </div>
    <button id="leaderboardToggleBtn">โ</button>
</div>

<!-- ะะพะฒัะน ะฑะปะพะบ ั ัะธะพะปะตัะพะฒะพะน ัะฐะผะพัะบะพะน ะดะปั ัะบะตะปะตัะพะฒ, ะผััะตะน ะธ ะณัะพะฑะฐ -->
<canvas id="gameCanvas" width="1600" height="900" aria-label="ะะณัะพะฒะพะต ะฟะพะปะต"></canvas>

<div id="uiContainer">
    <div id="panel" aria-live="polite" aria-atomic="true" hidden>
        <button id="toggleSpecialPanelsBtn" title="ะัะบัััั/ะทะฐะบัััั ะดะพะฟ. ะฟะฐะฝะตะปะธ">๐</button>
    
        <div id="troopButtons" style="display: flex; gap: 4px; align-items: center;">
            <button id="summonSkeleton" aria-label="ะัะธะทะฒะฐัั ะะฑะตะทััะฝะบั">
                <div class="unit-button-content">
                    <span class="unit-emoji">๐ต</span>
                    <span class="unit-cost" data-cost="50">50๐ช</span>
                </div>
            </button>
            <button id="summonMonkeyBomb" aria-label="ะัะธะทะฒะฐัั ะะฑะตะทััะฝะบั ั ะฑะพะผะฑะพะน">
                <div class="unit-button-content">
                    <span class="unit-emoji">๐ต๐ฃ</span>
                    <span class="unit-cost" data-cost="100">100๐ช</span>
                </div>
            </button>
            <button id="summonArcher" aria-label="ะัะธะทะฒะฐัั ะะฑะตะทััะฝั ั ะปัะบะพะผ">
                <div class="unit-button-content">
                    <span class="unit-emoji">๐ต๐น</span>
                    <span class="unit-cost" data-cost="175">175๐ช</span>
                </div>
            </button>
            <button id="dropGold" aria-label="ะัะดะฐัั/ะฟะพะปะพะถะธัั ะทะพะปะพัะพ">๐ฐ</button>
        </div>

        <div id="buildButtons" style="display: none; gap: 8px; align-items: flex-start; text-align: center;">
            <div style="text-align: center;">
                <button id="buildTowerBtn" aria-label="ะะพัััะพะธัั ะะฐัะฝั ๐ฐ (750)">๐ฐ (750)</button>
                <div id="towerLimitText" style="font-size: 9px; color: #a3d8ff; margin-top: 2px; transition: color 0.3s, transform 0.3s;">0/75</div>
            </div>
            <div style="text-align: center;">
                <button id="buildMagicTowerBtn" aria-label="ะะพัััะพะธัั ะะพะปัะตะฑะฝัั ะะฐัะฝั ๐๏ธ (1000)">๐๏ธ (1000)</button>
                <div id="magicTowerLimitText" style="font-size: 9px; color: #a3d8ff; margin-top: 2px; transition: color 0.3s, transform 0.3s;">0/25</div>
            </div>
            <div style="text-align: center;">
                <button id="buildTombstoneBtn" aria-label="ะะพัััะพะธัั ะะฐะดะณัะพะฑะธะต ๐ชฆ (150)">๐ชฆ (150)</button>
                <div id="tombstoneLimitText" style="font-size: 9px; color: #a3d8ff; margin-top: 2px; transition: color 0.3s, transform 0.3s;">0/1</div>
            </div>
            <div style="text-align: center;">
                <button id="buildHouseBtn" aria-label="ะะพัััะพะธัั ะะพะผ ๐๏ธ (100)">๐๏ธ (100)</button>
                <div id="houseLimitText" style="font-size: 9px; color: #a3d8ff; margin-top: 2px; transition: color 0.3s, transform 0.3s;">0/10</div>
            </div>
        </div>

        <button id="spawnToggleBtn" aria-label="ะะตัะตะบะปััะธัั ัะตะถะธะผ" title="ะะตัะตะบะปััะธัั ะฝะฐ ะฟะพัััะพะนะบั/ะฒะพะนัะบะฐ">๐</button>
        <button id="attackBtn" aria-label="ะะตะถะธะผ ะฐัะฐะบะธ" title="ะะตะถะธะผ ะฝะฐะฟะฐะดะตะฝะธั">โ</button>
        <button id="defenseBtn" aria-label="ะะตะถะธะผ ะทะฐัะธัั" title="ะะตะถะธะผ ะทะฐัะธัั">โฃ๏ธ</button>
        <button id="holdPositionBtn" aria-label="ะะตะถะธะผ 'ะกัะพััั ะฝะฐ ะผะตััะต'" title="ะะตะถะธะผ 'ะกัะพััั ะฝะฐ ะผะตััะต'">๐ค</button>
        <button id="teamSwitchBtn" title="ะกะผะตะฝะธัั ะบะพะผะฐะฝะดั">๐</button>
        <button id="deleteTroopBtn" title="ะฃะดะฐะปะธัั ะฒะพะนัะบะฐ">๐ฎ</button>
    </div>

    <div id="greenTroopsPanel" class="extra-panel" aria-label="ะะพะนัะบะฐ ะฑะปะธะถะฝะตะณะพ ะฑะพั">
        <button id="summonMonkeyWithSword" data-type="monkeyWithSword" aria-label="ะัะธะทะฒะฐัั ะะฑะตะทััะฝั ั ะผะตัะพะผ">
            <div class="unit-button-content">
                <span class="unit-emoji">๐ต๐ก๏ธ</span>
                <span class="unit-cost" data-cost="100">100๐ช</span>
            </div>
        </button>
        <button id="summonRam" data-type="ram" aria-label="ะัะธะทะฒะฐัั ะขะฐัะฐะฝ">
            <div class="unit-button-content">
                <span class="unit-emoji">๐ชต</span>
                <span class="unit-cost" data-cost="200">200๐ช</span>
            </div>
        </button>
    </div>

    <div id="specialTroopsPanel" class="extra-panel" aria-label="ะัะพะฑัะต ะฒะพะนัะบะฐ - ััะตะฑััั ะะฐะดะณัะพะฑะธั">
        <button id="summonSkeletonSpecial" data-type="skeleton" aria-label="ะัะธะทะฒะฐัั ะกะบะตะปะตัะธะบะฐ">
            <div class="unit-button-content">
                <span class="unit-emoji">๐</span>
                <span class="unit-cost" data-cost="10">10๐ช</span>
            </div>
        </button>
        <button id="summonZombieLeaderSpecial" data-type="zombieLeader" aria-label="ะัะธะทะฒะฐัั ะะพะผะฑะธ-ะฒะพะถะฐัะพะณะพ">
            <div class="unit-button-content">
                <span class="unit-emoji">๐ง</span>
                <span class="unit-cost" data-cost="70">70๐ช</span>
            </div>
        </button>
        <button id="summonGhostSpecial" data-type="ghost" aria-label="ะัะธะทะฒะฐัั ะัะธะทัะฐะบะฐ">
            <div class="unit-button-content">
                <span class="unit-emoji">๐ป</span>
                <span class="unit-cost" data-cost="200">200๐ช</span>
            </div>
        </button>
        <button id="summonBatSpecial" data-type="bat" aria-label="ะัะธะทะฒะฐัั ะะตัััะธั ะผััะตะน">
            <div class="unit-button-content">
                <span class="unit-emoji">๐ฆ</span>
                <span class="unit-cost" data-cost="150">150๐ช</span>
            </div>
        </button>
        <button id="summonCoffinSpecial" data-type="coffin" aria-label="ะัะธะทะฒะฐัั ะัะพะฑ">
            <div class="unit-button-content">
                <span class="unit-emoji">โฐ๏ธ</span>
                <span class="unit-cost" data-cost="50">50๐ช</span>
            </div>
        </button>
        <button id="summonVampireSpecial" data-type="vampire" aria-label="ะัะธะทะฒะฐัั ะะฐะผะฟะธัะฐ">
            <div class="unit-button-content">
                <span class="unit-emoji">๐ง</span>
                <span class="unit-cost" data-cost="175">175๐ช</span>
            </div>
        </button>
    </div>
    
    <div id="yellowTroopsPanel" class="extra-panel" aria-label="ะญะปะธัะฝัะต ะฒะพะนัะบะฐ">
        <button id="summonDragon" data-type="dragon" aria-label="ะัะธะทะฒะฐัั ะัะฐะบะพะฝะฐ">
            <div class="unit-button-content">
                <span class="unit-emoji">๐ฒ</span>
                <span class="unit-cost" data-cost="1500">1500๐ช</span>
            </div>
        </button>
        <button id="summonDemon" data-type="demon" aria-label="ะัะธะทะฒะฐัั ะะตะผะพะฝะฐ">
            <div class="unit-button-content">
                <span class="unit-emoji">๐น</span>
                <span class="unit-cost" data-cost="3000">3000๐ช</span>
            </div>
        </button>
    </div>
    
<div id="redTroopsPanel" class="extra-panel" aria-label="ะะตะณะตะฝะดะฐัะฝัะต ะฒะพะนัะบะฐ">
    <button id="summonGoldenSkeleton" data-type="goldenSkeleton" aria-label="ะัะธะทะฒะฐัั ะะพะปะพัะพะณะพ ะกะบะตะปะตัะธะบะฐ">
        <div class="unit-button-content">
            <span class="unit-emoji">๐</span>
            <span class="unit-cost" data-cost="10">10๐ช</span>
        </div>
    </button>
    <button id="summonCursedCoffin" data-type="cursedCoffin" aria-label="ะัะธะทะฒะฐัั ะัะพะบะปัััะน ะัะพะฑ">
        <div class="unit-button-content">
            <span class="unit-emoji">โฐ๏ธ</span>
            <span class="unit-cost" data-cost="5000">5000๐ช</span>
        </div>
    </button>
    <button id="summonHugeBat" data-type="hugeBat" aria-label="ะัะธะทะฒะฐัั ะะณัะพะผะฝัั ะะตััััั ะััั">
        <div class="unit-button-content">
            <span class="unit-emoji">๐ฆ</span>
            <span class="unit-cost" data-cost="250">250๐ช</span>
        </div>
    </button>
    <button id="summonTrueDragon" data-type="trueDragon" aria-label="ะัะธะทะฒะฐัั ะััะธะฝะฝะพะณะพ ะดัะฐะบะพะฝะฐ">
        <div class="unit-button-content">
            <span class="unit-emoji">๐</span>
            <span class="unit-cost" data-cost="4500">4500๐ช</span>
        </div>
    </button>
    <button id="summonTrueDemon" data-type="trueDemon" aria-label="ะัะธะทะฒะฐัั ะััะธะฝะฝะพะณะพ ะดะตะผะพะฝะฐ">
        <div class="unit-button-content">
            <img scr="sprite1.png" class="unit-emoji">
            <span class="unit-cost" data-cost="33500">33500๐ช</span>
        </div>
    </button>
</div>

<div id="goldDonationPanel" class="extra-panel" aria-label="ะัะดะฐัั ะทะพะปะพัะพ">
    <button class="donate-btn" data-amount="5">5 ๐ช</button>
    <button class="donate-btn" data-amount="10">10 ๐ฐ</button>
    <button class="donate-btn" data-amount="25">25 ๐ฐ</button>
    <button class="donate-btn" data-amount="50">50 ๐ฐ</button>
    <button class="donate-btn" data-amount="100">100 ๐ฐ</button>
    <button class="donate-btn" data-amount="250">250 ๐ฐ</button>
    <button class="donate-btn" data-amount="500">500 ๐ฐ</button>
    <button class="donate-btn" data-amount="1000">1000 ๐ฐ</button>
    <button class="donate-btn" data-amount="5000">5000 ๐ฐ</button>
    <button class="donate-btn" data-amount="10000">10000 ๐ฐ</button>
</div>

<div id="limitationNotificationPanel">
    </div>
</div>

<!-- ะะถะพะนััะธะบ -->
<div id="joystick" aria-label="ะะถะพะนััะธะบ ัะฟัะฐะฒะปะตะฝะธั">
  <div id="joystick-base">
    <div id="joystick-thumb" tabindex="0"></div>
  </div>
</div>

<!-- ะะฝะดะธะบะฐัะพั ะฒะพะนัะบ ะฒะฝะธะทั ัะฟัะฐะฒะฐ -->
<div id="goldDisplay" aria-live="polite" aria-atomic="true" aria-label="ะะพะปะธัะตััะฒะพ ะทะพะปะพัะฐ">
  ๐ฐ <span id="goldCount">10000000</span>
</div>

<div id="troopCountDisplay" aria-live="polite" aria-atomic="true" aria-label="ะะพะปะธัะตััะฒะพ ะฒะพะนัะบ">
  <span data-translate-key="troop_count_label">ะะพะนัะบะฐ</span>: <span id="currentTroops">0</span> / <span id="maxTroops">100</span>
</div>

<canvas id="minimapCanvas" width="50" height="50"></canvas>
<button id="minimapToggleBtn">๐พ</button>

<div id="buildingInfoPanel">
  <h3 id="buildingInfoName"></h3>
  <div id="buildingInfoStats">
    <p><span data-translate-key="stat_level">ะฃัะพะฒะตะฝั</span>: <span id="buildingInfoLevel"></span></p>
    <p><span data-translate-key="stat_health">ะัะพัะฝะพััั</span>: <span id="buildingInfoHP"></span></p>
    <p id="buildingInfoDamageRow"><span data-translate-key="stat_damage">ะฃัะพะฝ</span>: <span id="buildingInfoDamage"></span></p>
    <p id="buildingInfoAttackSpeedRow"><span data-translate-key="stat_attack_speed">ะกะบะพัะพััั ะฐัะฐะบะธ</span>: <span id="buildingInfoAttackSpeed"></span></p>
    <p id="buildingInfoRadiusRow"><span data-translate-key="stat_radius">ะะฐะดะธัั</span>: <span id="buildingInfoRadius"></span></p>
  </div>
  <p id="buildingInfoDescription"></p>
  <hr id="buildingInfoSeparator">
  <p><span data-translate-key="stat_sell">ะัะพะดะฐะถะฐ</span>: <span id="buildingInfoSell"></span></p>
  <p><span data-translate-key="stat_repair">ะะพัะธะฝะบะฐ</span>: <span id="buildingInfoRepair"></span></p>
  <p><span data-translate-key="stat_upgrade">ะฃะปัััะตะฝะธะต</span>: <span id="buildingInfoUpgrade"></span></p>
  </div>

<div id="buildingActionsPanel">
    <button id="upgradeBuildingBtn" title="ะฃะปัััะธัั ะทะดะฐะฝะธะต">๐บ</button>
    <button id="repairBuildingBtn" title="ะะพัะธะฝะธัั ะทะดะฐะฝะธะต">๐จ</button>
    <button id="sellBuildingBtn" title="ะัะพะดะฐัั ะทะดะฐะฝะธะต">๐๏ธ</button>
</div>

<div id="troopInfoPanel">
  <h3 id="troopInfoName"></h3>
  <p><span data-translate-key="stat_cost">ะกัะพะธะผะพััั</span>: <span id="troopInfoCost"></span></p>
  <p><span data-translate-key="stat_health">ะัะพัะฝะพััั</span>: <span id="troopInfoHP"></span></p>
  <p><span data-translate-key="stat_slots">ะะตััะพ</span>: <span id="troopInfoSlots"></span></p>
  <hr>
  <p id="troopInfoDamageRow"><span data-translate-key="troop_damage_long">ะฃัะพะฝ (ะะพะนัะบะฐ/ะะดะฐะฝะธั/ะะพัะด)</span>: <span id="troopInfoDamage"></span></p>
  <p id="troopInfoAttackSpeedRow"><span data-translate-key="stat_attack_speed">ะกะบะพัะพััั ะฐัะฐะบะธ</span>: <span id="troopInfoAttackSpeed"></span></p>
  <p id="troopInfoHpLossRow"><span data-translate-key="stat_attack_effect">ะญััะตะบั ะฐัะฐะบะธ</span>: <span id="troopInfoHpLoss"></span></p>
  <hr>
  <p id="troopInfoDescription"></p>
</div>

<div id="deathScreen">
  <h1 data-translate-key="death_screen_title">ะะฐั ะฃะฝะธััะพะถะธะปะธ</h1>
  <button id="restartBtn" data-translate-key="restart_button">ะะฐัะฐัั ะทะฐะฝะพะฒะพ</button>
</div>

<div id="deleteTroopPanel" style="display: none;">
  <div id="deleteTroopPanelHeader">
    <h2 data-translate-key="delete_troop_title"></h2>
    <button id="closeDeleteTroopPanelBtn">X</button>
  </div>
  <div id="deleteTroopList">
    </div>
</div>

<div id="buttonTooltip"></div>

<script src="main.js"></script>

</body>
</html>